{"map":{"version":3,"sources":["static/js/main.1bdbb010.chunk.js"],"names":["this","push","20","module","exports","__webpack_require__","30","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","AuthService","user","console","log","username","password","fetch","method","body","JSON","stringify","headers","Content-Type","then","res","status","json","data","isAuthenticated","role","AuthContext","Object","context_AuthContext","_ref","children","_useState","_useState2","setUser","_useState3","_useState4","setIsAuthenticated","_useState5","_useState6","isLoaded","setIsLoaded","a","createElement","Provider","value","react_router_dom","component_Navbar","props","_useContext","onClickLogoutHandler","success","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Fragment","onClick","component_Home","defineProperty","objectSpread2","component_Message","baseClass","message","msgError","getStyle","msgBody","component_Login","setMessage","authContext","onChange","e","preventDefault","target","name","onSubmit","history","required","component_Register","timerID","clearTimeout","setTimeout","component_TodoItem","todo","TodoService","Todos","setTodo","todos","setTodos","resetForm","map","key","_id","getData","htmlFor","component_Admin","objectWithoutProperties","react_router","hoc_PrivateRoute","Component","component","roles","rest","assign","render","includes","pathname","state","from","location","hoc_UnPrivatRoute","src_App","exact","path","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{20:function(e,t,n){e.exports=n(30)},30:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),s=n(3),l=function(e){console.log(\" %c *** login[/user/login][POST] *** \",\"font-size: 12px; font-weight: bold;color:green\"),console.log({user:e});var t=e.username[0],n=e.password[0];return fetch(\"/user/login\",{method:\"post\",body:JSON.stringify({username:t,password:n}),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{username:\"\",role:\"\"}}}))},u=function(e){return console.log(\" %c *** register[/user/register][POST] *** \",\"font-size: 12px; font-weight: bold;color:green\"),fetch(\"/user/register\",{method:\"post\",body:JSON.stringify(e),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return e.json()})).then((function(e){return e}))},i=function(){return console.log(\" %c *** logout[/user/login][POST] *** \",\"font-size: 12px; font-weight: bold;color:green\"),fetch(\"/user/logout\").then((function(e){return e.json()})).then((function(e){return e}))},m=function(){return fetch(\"/user/authenticated\").then((function(e){return console.log(\" %c *** isAuthenticated[/user/authenticated][GET] *** \",\"font-size: 12px; font-weight: bold;color:green\"),401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{username:\"\",role:\"\"}}})).then((function(e){return e}))},g=Object(a.createContext)(),d=function(e){var t=e.children,n=Object(a.useState)(null),o=Object(s.a)(n,2),c=o[0],l=o[1],u=Object(a.useState)(!1),i=Object(s.a)(u,2),d=i[0],b=i[1],f=Object(a.useState)(!1),h=Object(s.a)(f,2),p=h[0],E=h[1];return Object(a.useEffect)((function(){console.log(\" %c *** AuthProvider.useEffect *** \",\"font-size: 12px; font-weight: bold;color:green\"),m().then((function(e){l(e.user),b(e.isAuthenticated),E(!0),console.log(\"AuthService.isAuthenticated() %o\",{data:e})}))}),[]),r.a.createElement(\"div\",null,p?r.a.createElement(g.Provider,{value:{user:c,setUser:l,isAuthenticated:d,setIsAuthenticated:b}},t):r.a.createElement(\"h1\",null,\"loading\"))},b=n(4),f=function(e){var t=Object(a.useContext)(g),n=t.isAuthenticated,o=t.user,c=t.setIsAuthenticated,s=t.setUser,l=function(){i().then((function(e){console.log(\" %c *** Navbar[onClickLogoutHandler] *** \",\"font-size: 12px; font-weight: bold;color:green\"),e.success&&(s(e.user),c(!1))}))};return r.a.createElement(\"div\",null,r.a.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\"},r.a.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},r.a.createElement(\"span\",{className:\"navbar-toggler-icon\"})),r.a.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\"},r.a.createElement(b.b,{className:\"navbar-brand\",to:\"/\"},\"React Auth\"),r.a.createElement(\"ul\",{className:\"navbar-nav ml-auto mt-2 mt-lg-0\"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{to:\"/\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Home\")),r.a.createElement(b.b,{to:\"/todos\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Todos\")),\"admin\"===o.role?r.a.createElement(b.b,{to:\"/admin\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Admin\")):null,r.a.createElement(\"button\",{className:\"btn btn-link nav-item nav-link \",onClick:l},\"logout\")):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{to:\"/\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Home\")),r.a.createElement(b.b,{to:\"/login\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Login\")),r.a.createElement(b.b,{to:\"/register\"},r.a.createElement(\"li\",{className:\"nav-item nav-link\"},\"Register\"))),r.a.createElement(\"li\",{className:\"nav-item  \"},r.a.createElement(b.b,{to:\"/\",className:\"\"}))),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{className:\"btn btn-success btn-sm  mr-2\"},r.a.createElement(\"i\",{className:\"fa fa-shopping-basket  \"}),\"0\")))))},h=function(e){return r.a.createElement(\"div\",null,\"Home Page\")},p=n(9),E=n(10),v=function(e){return r.a.createElement(\"div\",{className:function(e){var t=\"alert \";return e.message.msgError?t+=\"alert-danger \":t+=\"alert-primary\",t+\" text-center\"}(e),role:\"alert\"},e.message.msgBody)},j=function(e){var t=Object(a.useState)({username:\"\",password:\"\"}),n=Object(s.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(null),i=Object(s.a)(u,2),m=i[0],d=i[1],b=Object(a.useContext)(g),f=function(e){e.preventDefault(),c(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e.target.name,[e.target.value])))};return r.a.createElement(\"div\",null,r.a.createElement(\"form\",{onSubmit:function(t){t.preventDefault(),l(o).then((function(t){var n=t.isAuthenticated,a=t.user,r=t.message;console.log(n,a,r),n?(b.setUser(a),b.setIsAuthenticated(n),e.history.push(\"/todos\"),console.log(\"isAuthenticated\")):d(r)}))}},r.a.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:f,name:\"username\",required:!0}),r.a.createElement(\"input\",{type:\"password\",className:\"form-control\",onChange:f,name:\"password\",required:!0}),r.a.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-success\"},\"Login\")),m?r.a.createElement(v,{message:m}):null)},O=function(e){var t=Object(a.useState)({username:\"\",password:\"\",role:\"\"}),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(null),i=Object(s.a)(l,2),m=i[0],g=i[1],d=Object(a.useRef)(null);Object(a.useEffect)((function(){return function(){clearTimeout(d)}}),[]);var b=function(e){c(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement(\"div\",null,r.a.createElement(\"form\",{onSubmit:function(t){t.preventDefault(),u(o).then((function(t){var n=t.message;g(n),c({username:\"\",password:\"\",role:\"\"}),n.msgError||(d=setTimeout((function(){e.history.push(\"/login\")}),2e3))}))}},r.a.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:b,name:\"username\",value:o.username,required:!0}),r.a.createElement(\"input\",{type:\"password\",className:\"form-control\",onChange:b,name:\"password\",value:o.password,required:!0}),r.a.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:b,name:\"role\",value:o.role,required:!0}),r.a.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-success\"},\"Register\")),m?r.a.createElement(v,{message:m}):null)},N=function(e){return r.a.createElement(\"li\",null,e.todo.name)},y=function(){return fetch(\"user/todos\").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:\"unAuthorized\"},msgError:!0}}))},A=function(e){return fetch(\"user/todo\",{method:\"post\",body:JSON.stringify(e),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:\"unAuthorized\"},msgError:!0}}))},x=function(e){var t=Object(a.useState)({name:\"\"}),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)([]),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(a.useState)(null),b=Object(s.a)(d,2),f=b[0],h=b[1],p=Object(a.useContext)(g);Object(a.useEffect)((function(){y().then((function(e){m(e.todos)}))}),[]);var E=function(){c({name:\"\"})};return r.a.createElement(\"div\",null,r.a.createElement(\"ul\",{className:\"list-group\"},i.map((function(e){return r.a.createElement(N,{key:e._id,todo:e})}))),r.a.createElement(\"form\",{onSubmit:function(e){e.preventDefault(),A(o).then((function(e){var t=e.message;E(),t.msgError?\"unAuthrozied\"===t.msgBody?(h(t),p.setUser({username:\"\",role:\"\"}),p.setIsAuthenticated(!1)):h(t):y().then((function(e){m(e.todos),h(t)}))}))}},r.a.createElement(\"label\",{htmlFor:\"todo\"},\"Enter Todo\"),r.a.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:function(e){c({name:e.target.value})},value:o.name,name:\"name\",required:!0}),r.a.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-success\"})),f?r.a.createElement(v,{message:f}):null)},S=function(e){return r.a.createElement(\"div\",null,\"Admin Page\")},w=n(12),C=n(1),T=function(e){var t=e.component,n=e.roles,o=Object(w.a)(e,[\"component\",\"roles\"]),c=Object(a.useContext)(g),s=c.isAuthenticated,l=c.user;return r.a.createElement(C.b,Object.assign({},o,{render:function(e){return s?n.includes(l.role)?r.a.createElement(t,e):r.a.createElement(C.a,{to:{pathname:\"/\",state:{from:e.location}}}):r.a.createElement(C.a,{to:{pathname:\"/login\",state:{from:e.location}}})}}))},k=function(e){var t=e.component,n=Object(w.a)(e,[\"component\"]),o=Object(a.useContext)(g).isAuthenticated;return r.a.createElement(C.b,Object.assign({},n,{render:function(e){return o?r.a.createElement(C.a,{to:{pathname:\"/\",state:{from:e.location}}}):r.a.createElement(t,e)}}))};var z=function(){var e=Object(a.useContext)(g);return e.user,e.setUser,e.isAuthenticated,e.setIsAuthenticated,r.a.createElement(b.a,null,r.a.createElement(f,null),r.a.createElement(C.d,null,r.a.createElement(C.b,{exact:!0,path:\"/\",component:h}),r.a.createElement(k,{exact:!0,path:\"/login\",component:j}),r.a.createElement(k,{exact:!0,path:\"/register\",component:O}),r.a.createElement(T,{path:\"/todos\",roles:[\"user\",\"admin\"],component:x}),r.a.createElement(T,{path:\"/admin\",roles:[\"admin\"],component:S})))};c.a.render(r.a.createElement(d,null,r.a.createElement(z,null)),document.getElementById(\"root\"))}},[[20,1,2]]]);","extractedComments":[]}