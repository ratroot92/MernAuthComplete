{"ast":null,"code":"export default {\n  login: user => {\n    console.log(\" %c *** login[http://localhost:5000/user/login][POST] *** \", \"font-size: 12px; font-weight: bold;color:green\");\n    let body = JSON.stringify(user);\n    console.log({});\n    return fetch(\"http://localhost:5000/user/login\", {\n      method: \"post\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      if (res.status !== 401) {\n        return res.json().then(data => data);\n      } else {\n        return {\n          isAuthenticated: false,\n          user: {\n            username: \"\",\n            role: \"\"\n          }\n        };\n      }\n    });\n  },\n  register: user => {\n    console.log(\" %c *** register[http://localhost:5000/user/register][POST] *** \", \"font-size: 12px; font-weight: bold;color:green\");\n    return fetch(\"/user/register\", {\n      method: \"post\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => data);\n  },\n  logout: () => {\n    console.log(\" %c *** logout[http://localhost:5000/user/login][POST] *** \", \"font-size: 12px; font-weight: bold;color:green\");\n    return fetch(\"/user/logout\").then(res => res.json()).then(data => data);\n  },\n\n  /*\n  ! Sync backend and frontend (even after browser closes)\n  ! call this function with context API\n  */\n  isAuthenticated: () => {\n    return fetch(\"http://localhost:5000/user/authenticated\").then(res => {\n      console.log(\" %c *** isAuthenticated[http://localhost:5000/user/authenticated][GET] *** \", \"font-size: 12px; font-weight: bold;color:green\");\n\n      if (res.status !== 401) {\n        return res.json().then(data => data);\n      } else {\n        return {\n          isAuthenticated: false,\n          user: {\n            username: \"\",\n            role: \"\"\n          }\n        };\n      }\n    }).then(data => data);\n  }\n};","map":{"version":3,"sources":["/home/hadooop/Desktop/development/reactjs_project/MernAuth/react/src/services/AuthService.jsx"],"names":["login","user","console","log","body","JSON","stringify","fetch","method","headers","then","res","status","json","data","isAuthenticated","username","role","register","logout"],"mappings":"AAAA,eAAe;AACbA,EAAAA,KAAK,EAAGC,IAAD,IAAU;AACfC,IAAAA,OAAO,CAACC,GAAR,CACE,4DADF,EAEE,gDAFF;AAIA,QAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;AACA,WAAOI,KAAK,CAAC,kCAAD,EAAqC;AAC/CC,MAAAA,MAAM,EAAE,MADuC;AAE/CJ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAFyC;AAG/CQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHsC,KAArC,CAAL,CAMJC,IANI,CAMEC,GAAD,IAAS;AACf,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,eAAOD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAiBI,IAAD,IAAUA,IAA1B,CAAP;AACD,OAFD,MAEO;AACL,eAAO;AAAEC,UAAAA,eAAe,EAAE,KAAnB;AAA0Bd,UAAAA,IAAI,EAAE;AAAEe,YAAAA,QAAQ,EAAE,EAAZ;AAAgBC,YAAAA,IAAI,EAAE;AAAtB;AAAhC,SAAP;AACD;AACF,KAZM,CAAP;AAaD,GArBY;AAuBbC,EAAAA,QAAQ,EAAGjB,IAAD,IAAU;AAClBC,IAAAA,OAAO,CAACC,GAAR,CACE,kEADF,EAEE,gDAFF;AAIA,WAAOI,KAAK,CAAC,gBAAD,EAAmB;AAC7BC,MAAAA,MAAM,EAAE,MADqB;AAE7BJ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAFuB;AAG7BQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHoB,KAAnB,CAAL,CAOJC,IAPI,CAOEC,GAAD,IAASA,GAAG,CAACE,IAAJ,EAPV,EAQJH,IARI,CAQEI,IAAD,IAAUA,IARX,CAAP;AASD,GArCY;AAuCbK,EAAAA,MAAM,EAAE,MAAM;AACZjB,IAAAA,OAAO,CAACC,GAAR,CACE,6DADF,EAEE,gDAFF;AAIA,WAAOI,KAAK,CAAC,cAAD,CAAL,CACJG,IADI,CACEC,GAAD,IAASA,GAAG,CAACE,IAAJ,EADV,EAEJH,IAFI,CAEEI,IAAD,IAAUA,IAFX,CAAP;AAGD,GA/CY;;AAgDb;;;;AAIAC,EAAAA,eAAe,EAAE,MAAM;AACrB,WAAOR,KAAK,CAAC,0CAAD,CAAL,CACJG,IADI,CACEC,GAAD,IAAS;AACbT,MAAAA,OAAO,CAACC,GAAR,CACE,6EADF,EAEE,gDAFF;;AAIA,UAAIQ,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,eAAOD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAiBI,IAAD,IAAUA,IAA1B,CAAP;AACD,OAFD,MAEO;AACL,eAAO;AAAEC,UAAAA,eAAe,EAAE,KAAnB;AAA0Bd,UAAAA,IAAI,EAAE;AAAEe,YAAAA,QAAQ,EAAE,EAAZ;AAAgBC,YAAAA,IAAI,EAAE;AAAtB;AAAhC,SAAP;AACD;AACF,KAXI,EAYJP,IAZI,CAYEI,IAAD,IAAUA,IAZX,CAAP;AAaD;AAlEY,CAAf","sourcesContent":["export default {\n  login: (user) => {\n    console.log(\n      \" %c *** login[http://localhost:5000/user/login][POST] *** \",\n      \"font-size: 12px; font-weight: bold;color:green\"\n    );\n    let body = JSON.stringify(user);\n    console.log({});\n    return fetch(\"http://localhost:5000/user/login\", {\n      method: \"post\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => {\n      if (res.status !== 401) {\n        return res.json().then((data) => data);\n      } else {\n        return { isAuthenticated: false, user: { username: \"\", role: \"\" } };\n      }\n    });\n  },\n\n  register: (user) => {\n    console.log(\n      \" %c *** register[http://localhost:5000/user/register][POST] *** \",\n      \"font-size: 12px; font-weight: bold;color:green\"\n    );\n    return fetch(\"/user/register\", {\n      method: \"post\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => data);\n  },\n\n  logout: () => {\n    console.log(\n      \" %c *** logout[http://localhost:5000/user/login][POST] *** \",\n      \"font-size: 12px; font-weight: bold;color:green\"\n    );\n    return fetch(\"/user/logout\")\n      .then((res) => res.json())\n      .then((data) => data);\n  },\n  /*\n! Sync backend and frontend (even after browser closes)\n! call this function with context API\n*/\n  isAuthenticated: () => {\n    return fetch(\"http://localhost:5000/user/authenticated\")\n      .then((res) => {\n        console.log(\n          \" %c *** isAuthenticated[http://localhost:5000/user/authenticated][GET] *** \",\n          \"font-size: 12px; font-weight: bold;color:green\"\n        );\n        if (res.status !== 401) {\n          return res.json().then((data) => data);\n        } else {\n          return { isAuthenticated: false, user: { username: \"\", role: \"\" } };\n        }\n      })\n      .then((data) => data);\n  },\n};\n"]},"metadata":{},"sourceType":"module"}