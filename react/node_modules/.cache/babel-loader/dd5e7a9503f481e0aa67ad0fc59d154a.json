{"ast":null,"code":"import React,{useContext}from\"react\";import{Link}from\"react-router-dom\";import AuthService from\"./../services/AuthService\";import{AuthContext}from\"./../context/AuthContext\";var Navbar=function Navbar(props){var _useContext=useContext(AuthContext),isAuthenticated=_useContext.isAuthenticated,user=_useContext.user,setIsAuthenticated=_useContext.setIsAuthenticated,setUser=_useContext.setUser;var onClickLogoutHandler=function onClickLogoutHandler(){AuthService.logout().then(function(data){console.log(\" %c *** Navbar[onClickLogoutHandler] *** \",\"font-size: 12px; font-weight: bold;color:green\");if(data.success){//resetiing the user\n//username will be empty stringand so as role\nsetUser(data.user);setIsAuthenticated(false);}});};var authenticatedNavbar=function authenticatedNavbar(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Home\")),/*#__PURE__*/React.createElement(Link,{to:\"/todos\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Todos\")),user.role===\"admin\"?/*#__PURE__*/React.createElement(Link,{to:\"/admin\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Admin\")):null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link nav-item nav-link \",onClick:onClickLogoutHandler},\"logout\"));};var unauthenticatedNavbar=function unauthenticatedNavbar(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Home\")),/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Login\")),/*#__PURE__*/React.createElement(Link,{to:\"/register\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item nav-link\"},\"Register\")));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\"},/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\"},/*#__PURE__*/React.createElement(Link,{className:\"navbar-brand\",to:\"/\"},\"React Auth\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav ml-auto mt-2 mt-lg-0\"},!isAuthenticated?unauthenticatedNavbar():authenticatedNavbar(),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item  \"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-sm  mr-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-shopping-basket  \"}),\"0\")))));};export default Navbar;","map":{"version":3,"sources":["/home/hadooop/Desktop/development/MERN/MernAuth/react/src/component/Navbar.jsx"],"names":["React","useContext","Link","AuthService","AuthContext","Navbar","props","isAuthenticated","user","setIsAuthenticated","setUser","onClickLogoutHandler","logout","then","data","console","log","success","authenticatedNavbar","role","unauthenticatedNavbar"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,WAAT,KAA4B,0BAA5B,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,iBACuCL,UAAU,CACvEG,WADuE,CADjD,CAChBG,eADgB,aAChBA,eADgB,CACCC,IADD,aACCA,IADD,CACOC,kBADP,aACOA,kBADP,CAC2BC,OAD3B,aAC2BA,OAD3B,CAKxB,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjCR,WAAW,CAACS,MAAZ,GAAqBC,IAArB,CAA0B,SAACC,IAAD,CAAU,CAClCC,OAAO,CAACC,GAAR,CACE,2CADF,CAEE,gDAFF,EAIA,GAAIF,IAAI,CAACG,OAAT,CAAkB,CAChB;AACA;AACAP,OAAO,CAACI,IAAI,CAACN,IAAN,CAAP,CACAC,kBAAkB,CAAC,KAAD,CAAlB,CACD,CACF,CAXD,EAYD,CAbD,CAcA,GAAMS,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,mBACE,qDACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,SADF,CADF,cAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,UADF,CAJF,CAQGV,IAAI,CAACW,IAAL,GAAc,OAAd,cACC,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,UADF,CADD,CAIG,IAZN,cAaE,8BACE,SAAS,CAAC,iCADZ,CAEE,OAAO,CAAER,oBAFX,WAbF,CADF,CAsBD,CAvBD,CAwBA,GAAMS,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClC,mBACE,qDACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,SADF,CADF,cAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,UADF,CAJF,cAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,eACE,0BAAI,SAAS,CAAC,mBAAd,aADF,CARF,CADF,CAcD,CAfD,CAgBA,mBACE,4CACE,2BAAK,SAAS,CAAC,+CAAf,eACE,8BACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,cAAY,UAHd,CAIE,cAAY,sBAJd,CAKE,gBAAc,qBALhB,CAME,gBAAc,OANhB,CAOE,aAAW,mBAPb,eASE,4BAAM,SAAS,CAAC,qBAAhB,EATF,CADF,cAYE,2BAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,qBAA7C,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,CAAC,GAAlC,eADF,cAKE,0BAAI,SAAS,CAAC,iCAAd,EACG,CAACb,eAAD,CAAmBa,qBAAqB,EAAxC,CAA6CF,mBAAmB,EADnE,cAEE,0BAAI,SAAS,CAAC,YAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,EAAvB,EADF,CAFF,CALF,cAYE,4CACE,8BAAQ,SAAS,CAAC,8BAAlB,eACE,yBAAG,SAAS,CAAC,yBAAb,EADF,KADF,CAZF,CAZF,CADF,CADF,CAmCD,CA9FD,CAgGA,cAAeb,CAAAA,MAAf","sourcesContent":["import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AuthService from \"./../services/AuthService\";\nimport { AuthContext } from \"./../context/AuthContext\";\n\nconst Navbar = (props) => {\n  const { isAuthenticated, user, setIsAuthenticated, setUser } = useContext(\n    AuthContext\n  );\n\n  const onClickLogoutHandler = () => {\n    AuthService.logout().then((data) => {\n      console.log(\n        \" %c *** Navbar[onClickLogoutHandler] *** \",\n        \"font-size: 12px; font-weight: bold;color:green\"\n      );\n      if (data.success) {\n        //resetiing the user\n        //username will be empty stringand so as role\n        setUser(data.user);\n        setIsAuthenticated(false);\n      }\n    });\n  };\n  const authenticatedNavbar = () => {\n    return (\n      <>\n        <Link to=\"/\">\n          <li className=\"nav-item nav-link\">Home</li>\n        </Link>\n        <Link to=\"/todos\">\n          <li className=\"nav-item nav-link\">Todos</li>\n        </Link>\n        {/* if user is admin show admin link  */}\n        {user.role === \"admin\" ? (\n          <Link to=\"/admin\">\n            <li className=\"nav-item nav-link\">Admin</li>\n          </Link>\n        ) : null}\n        <button\n          className=\"btn btn-link nav-item nav-link \"\n          onClick={onClickLogoutHandler}\n        >\n          logout\n        </button>\n      </>\n    );\n  };\n  const unauthenticatedNavbar = () => {\n    return (\n      <>\n        <Link to=\"/\">\n          <li className=\"nav-item nav-link\">Home</li>\n        </Link>\n        <Link to=\"/login\">\n          <li className=\"nav-item nav-link\">Login</li>\n        </Link>\n\n        <Link to=\"/register\">\n          <li className=\"nav-item nav-link\">Register</li>\n        </Link>\n      </>\n    );\n  };\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarTogglerDemo01\"\n          aria-controls=\"navbarTogglerDemo01\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\" />\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n          <Link className=\"navbar-brand\" to=\"/\">\n            React Auth\n          </Link>\n\n          <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\n            {!isAuthenticated ? unauthenticatedNavbar() : authenticatedNavbar()}\n            <li className=\"nav-item  \">\n              <Link to=\"/\" className=\"\"></Link>\n            </li>\n          </ul>\n\n          <div>\n            <button className=\"btn btn-success btn-sm  mr-2\">\n              <i className=\"fa fa-shopping-basket  \"></i>0\n            </button>\n          </div>\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}