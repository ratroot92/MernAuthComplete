{"ast":null,"code":"import _slicedToArray from\"/home/hadooop/Desktop/development/MERN/MernAuth/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";import AuthService from\"./../services/AuthService\";export var AuthContext=createContext();export default(function(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAuthenticated=_useState4[0],setIsAuthenticated=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];/*\n    ! React hook version of componentDidMount()\n    */useEffect(function(){console.log(\" %c *** AuthProvider.useEffect *** \",\"font-size: 12px; font-weight: bold;color:green\");AuthService.isAuthenticated().then(function(data){setUser(data.user);setIsAuthenticated(data.isAuthenticated);setIsLoaded(true);console.log(\"AuthService.isAuthenticated() %o\",{data:data});});},[]);return/*#__PURE__*/React.createElement(\"div\",null,!isLoaded?/*#__PURE__*/React.createElement(\"h1\",null,\"loading\"):/*#__PURE__*/React.createElement(AuthContext.Provider,{value:{user:user,setUser:setUser,isAuthenticated:isAuthenticated,setIsAuthenticated:setIsAuthenticated}},children));});","map":{"version":3,"sources":["/home/hadooop/Desktop/development/MERN/MernAuth/react/src/context/AuthContext.js"],"names":["React","createContext","useState","useEffect","AuthService","AuthContext","children","user","setUser","isAuthenticated","setIsAuthenticated","isLoaded","setIsLoaded","console","log","then","data"],"mappings":"4KAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAGJ,aAAa,EAAjC,CAEP,eAAe,cAAkB,IAAfK,CAAAA,QAAe,MAAfA,QAAe,eACPJ,QAAQ,CAAC,IAAD,CADD,wCACxBK,IADwB,eAClBC,OADkB,8BAEeN,QAAQ,CAAC,KAAD,CAFvB,yCAExBO,eAFwB,eAEPC,kBAFO,8BAGCR,QAAQ,CAAC,KAAD,CAHT,yCAGxBS,QAHwB,eAGdC,WAHc,eAI/B;;MAGAT,SAAS,CAAC,UAAM,CACdU,OAAO,CAACC,GAAR,CACE,qCADF,CAEE,gDAFF,EAIAV,WAAW,CAACK,eAAZ,GAA8BM,IAA9B,CAAmC,SAACC,IAAD,CAAU,CAC3CR,OAAO,CAACQ,IAAI,CAACT,IAAN,CAAP,CACAG,kBAAkB,CAACM,IAAI,CAACP,eAAN,CAAlB,CACAG,WAAW,CAAC,IAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAY,kCAAZ,CAAgD,CAAEE,IAAI,CAAJA,IAAF,CAAhD,EACD,CALD,EAMD,CAXQ,CAWN,EAXM,CAAT,CAYA,mBACE,+BACG,CAACL,QAAD,cACC,wCADD,cAGC,oBAAC,WAAD,CAAa,QAAb,EACE,KAAK,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAAiBC,eAAe,CAAfA,eAAjB,CAAkCC,kBAAkB,CAAlBA,kBAAlC,CADT,EAGGJ,QAHH,CAJJ,CADF,CAaD,CAhCD","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport AuthService from \"./../services/AuthService\";\n\nexport const AuthContext = createContext();\n\nexport default ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  /*\n    ! React hook version of componentDidMount()\n    */\n  useEffect(() => {\n    console.log(\n      \" %c *** AuthProvider.useEffect *** \",\n      \"font-size: 12px; font-weight: bold;color:green\"\n    );\n    AuthService.isAuthenticated().then((data) => {\n      setUser(data.user);\n      setIsAuthenticated(data.isAuthenticated);\n      setIsLoaded(true);\n      console.log(\"AuthService.isAuthenticated() %o\", { data });\n    });\n  }, []);\n  return (\n    <div>\n      {!isLoaded ? (\n        <h1>loading</h1>\n      ) : (\n        <AuthContext.Provider\n          value={{ user, setUser, isAuthenticated, setIsAuthenticated }}\n        >\n          {children}\n        </AuthContext.Provider>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}